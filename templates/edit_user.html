{% extends "base.html" %}

{% block header %}Editar Usuário{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <form method="POST" action="{{ url_for_brand('edit_user', brand=brand, user_id=user.id) }}">
                    <div class="mb-3">
                        <label for="name" class="form-label">Nome Completo</label>
                        <input type="text" class="form-control" id="name" name="name" value="{{ user.name }}" required>
                    </div>
                    
                    {% if current_user.access_type == 'admin' %}
                    <div class="mb-3">
                        <label for="access_type" class="form-label">Tipo de Acesso</label>
                        <select class="form-select" id="access_type" name="access_type">
                            <option value="admin" {% if user.access_type == 'admin' %}selected{% endif %}>Administrador</option>
                            <option value="user" {% if user.access_type == 'user' %}selected{% endif %}>Usuário</option>
                        </select>
                    </div>
                    {% endif %}
                    
                    <div class="mb-4">
                        <label for="password" class="form-label">Nova Senha (deixe em branco para manter a atual)</label>
                        <input type="password" class="form-control" id="password" name="password">
                        <div class="form-text">Preencha apenas se desejar alterar a senha.</div>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="{{ url_for_brand('user_management', brand=brand) }}" class="btn btn-secondary me-md-2">Cancelar</a>
                        <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
